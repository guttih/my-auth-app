== üõ†Ô∏è Setup Instructions for `my-auth-app`

This guide installs all required tools and runs the Next.js + PostgreSQL + NextAuth + Prisma app.

---

=== ‚úÖ 1. Install System Requirements

==== Ubuntu / Debian
[source,bash]
----
sudo apt update
sudo apt install nodejs npm postgresql postgresql-contrib
----

Optional (if node version is too old):
[source,bash]
----
sudo npm install -g n
sudo n latest
----

==== Fedora

[source,bash]
----
sudo dnf install nodejs npm postgresql postgresql-contrib postgresql-server

sudo mkdir -p /var/lib/pgsql/data
sudo chown postgres:postgres /var/lib/pgsql/data
sudo -u postgres /usr/bin/initdb -D /var/lib/pgsql/data
----

Start the server 
[source,bash]
----
#in Forground mode
sudo -u postgres /usr/bin/postgres -D /var/lib/pgsql/data

#or in Background mode
sudo -u postgres /usr/bin/pg_ctl -D /var/lib/pgsql/data -l /var/lib/pgsql/data/logfile start
----

To stop background server
[source,bash]
----
s aux | grep "postgres -D"
sudo kill -9 <PID>
----


---

=== ‚úÖ 2. Create PostgreSQL User and Database

[source,bash]
----
sudo adduser postgres
----

Start psql
[source,bash]
----
sudo -u postgres psql
----

In the psql prompt:
[source,sql]
----
CREATE USER guttih WITH PASSWORD 'hunter2';
CREATE DATABASE guttihdb OWNER guttih;
ALTER ROLE guttih CREATEDB;
\q
----

==== Configure Environment Variables
Create a .env file in the project root with your database connection string:
[source,bash]
----
touch .env
----
Then edit .env to include:

[source,env]
----
DATABASE_URL="postgresql://guttih:hunter2@localhost:5432/guttihdb"
----
Replace `guttih` and `hunter2` with your actual PostgreSQL username and password, if different.

---

=== ‚úÖ 3. Install Node.js Packages

[source,bash]
----
# Runtime dependencies ‚Äî needed in both development and production
npm install next react react-dom next-auth bcrypt @prisma/client

# Dev dependencies ‚Äî used only during development & build steps
npm install -D typescript @types/react @types/node tailwindcss @tailwindcss/postcss postcss autoprefixer prisma tsx

npx tailwindcss init -p
#npx prisma init
npx prisma migrate dev --name init
npx tsx prisma/seed.ts
npx prisma generate

----

Gotchas to avoid:
- npx tsx prisma/seed.ts ‚Üí ‚ùå This needs tsx and tsconfig.json, so only run it before deploying.
- Don't forget .env on the server ‚Äî your app will fail without DATABASE_URL.

and create a **.env.local** file with someting like this:
[source,env]
----
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=kmLumZtBmGIMkJhANnbjeAI4vPrWs78peWawyQip7U4=
---

=== ‚úÖ 4. Run the App

[source,bash]
----
npm run dev
----

Then open: http://localhost:3000/login[http://localhost:3000/login]

Login credentials:

- *Email:* `admin@guttih.com`
- *Password:* `hunter2`

---

=== ‚úÖ 5. Optional: Browse DB in Prisma Studio

[source,bash]
----
npx prisma studio
----

Opens a UI at http://localhost:5555[http://localhost:5555]

---

=== üí• Setup is Complete!
